<#include "/common/edit_macro.ftl" />
<#assign label = "修改渠道商户信息">
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<@head label="${label}" base="virtualTerm">
			$("#termIdInpt").validatebox({
				required: true,
				novalidate: true,
				validType: ['characters','maxLength[20]']
			});
			$("#chnlMchntNmInpt").validatebox({
				required: true,
				novalidate: true,
				validType: ['maxLength[100]']
			});
			$("#feeRateInpt").validatebox({
				novalidate: true,
				required: true,
				validType: ['rate','maxLength[7]']
			});
			$("#dailyLimitInpt").validatebox({
				novalidate: true,
				validType: ['amount','maxLength[15]']
			});
			var state=$("[name=stateCheck]").val();
			var options=document.getElementById('stateSel').children;
			if(state=="0"){
				options[0].selected ="true";
			}else {
				options[1].selected ="true";
			}
			var settlePeriod=$("[name=settlePeriodCheck]").val();
			var options2=document.getElementById('settlePeriodSel').children;
			if(settlePeriod=="9"){
				options2[0].selected ="true";
			}else if(settlePeriod=="0"){
				options2[1].selected ="true";
			}else if(settlePeriod=="1"){
				options2[2].selected ="true";
			}else if(settlePeriod=="2"){
				options2[3].selected ="true";
			}else if(settlePeriod=="3"){
				options2[4].selected ="true";
			}
			$("#commentInpt").validatebox({
				validType: ['maxLength[256]']
			});
			
		</@head>
	</head>
	
	<body>
		<@editDiv label="${label}" editUrl="/virtualTerm/edit/submit.do">
			<input type="hidden" name="chnlId" value="${entity.chnlId}" />
			<input type="hidden" name="stateCheck" value="${entity.state}" />
			<input type="hidden" name="settlePeriodCheck" value="${entity.settlePeriod}" />
			<table class="edit_tbl" cellpadding="0" cellspacing="0">
				<tr>
					<td class="label">渠道：</td>
					<td class="content">
						<input  type="text" maxlength="100"
							id="chnlIdSel" name="chnlIdDesc"
							 value="<@enumVal enumNm="TxnEnums.ChnlId" code="${entity.chnlId}" showCode="true" />"
							 readonly="readonly"  />
					</td>
				</tr>
				<tr>
					<td class="label">渠道商户代码：</td>
					<td class="content">
						<input class="easyui-validatebox" type="text" maxlength="40"
							id="chnlMchntCdInpt" name="chnlMchntCd" value="${entity.chnlMchntCd}" readonly="readonly"  />
					</td>
				</tr>
				<tr>
					<td class="label">渠道商户名称：</td>
					<td class="content">
						<input class="easyui-validatebox" type="text" maxlength="100"
							id="chnlMchntDescInpt" name="chnlMchntDesc" value="${entity.chnlMchntDesc}"/>
					</td>
				</tr>
				
				<tr>
					<td class="label">状态：</td>
					<td class="content">
						<select id="stateInput" name="state" value="${entity.state}" data-options="editable:true">
							<@enumOpts enumNm='TxnEnums.CommonValid' selected=entity.state showEmptyOpt='false' showCode="false" />
						</select>
					</td>
				</tr>
				
				<tr>
					<td class="label">结算方式：</td>
					<td class="content">
						<select id="settlePeriodSel" name="settlePeriod">
							<@enumOpts enumNm='SettleEnums.SettlePeriod' selected=entity.settlePeriod showEmptyOpt='false' showCode="false" />
						</select>
					</td>					
				</tr>
				
				<tr>
					<td class="label">自动D0余额结转：</td>
					<td class="content">
						<select class="easyui-validatebox" id="balanceTransferSel" name="balanceTransfer" value ="${entity.balanceTransfer!'0'}" style="width: 300px;">
							<@enumOpts enumNm='TxnEnums.CommonYesNo' selected=entity.balanceTransfer!'0' showEmptyOpt='false' showCode="false" />
						</select>
					</td>					
				</tr>
				<tr id="transferTimeTr">
					<td class="label">D0余额结转时间：</td>
					<td class="content">
						<input class="easyui-validatebox" type ="text" value="${entity.transferTime!''}" id="transferTimeInpt" name ="transferTime"/>
						<span class="inputDesc">格式HHmmss，例如：235000(可省略，使用默认值)</span>
					</td>
				</tr>
				
				<tr>
					<td class="label">自动T1余额结转反还：</td>
					<td class="content">
						<select class="easyui-validatebox" id="balanceTransferT1Sel" name="balanceTransferT1" value ="${entity.balanceTransferT1!'0'}" style="width: 300px;">
							<@enumOpts enumNm='TxnEnums.CommonYesNo' selected=entity.balanceTransferT1!'0' showEmptyOpt='false' showCode="false" />
						</select>
					</td>
				</tr>
				<tr id="transferTimeT1Tr">
					<td class="label">T1余额结转时间：</td>
					<td class="content">
						<input class="easyui-validatebox" type ="text" value="${entity.transferTimeT1!''}" id="transferTimeT1Inpt" name ="transferTimeT1"/>
						<span class="inputDesc">格式HHmmss，例如：163000(可省略，使用默认值)</span>
					</td>
				</tr>
				
				<tr id="transferModeTr">
					<td class="label">T1余额结转模式：</td>
					<td class="content">
						<select class="easyui-validatebox" value="${entity.transferMode!'0'}" id="transferModeSel" name="transferMode" style="width: 300px;">
							<@enumOpts enumNm='TxnEnums.DailyTransferMode' selected=entity.transferMode!'0' showEmptyOpt='false' showCode="false" />
						</select>
					</td>
				</tr>
				
				<tr id="mchntSuffixTr">
					<td class="label">B商户后坠名：</td>
					<td class="content">
						<input class="easyui-validatebox" type ="text" value="${entity.mchntSuffix!''}"  id="mchntSuffixInpt" name ="mchntSuffix"/>
						<span class="inputDesc">例如：$b (可省略，表示默认值)</span>
					</td>
				</tr>
				
				<tr>
					<td class="label">备注：</td>
					<td class="content">
						<input class="easyui-validatebox" type ="text" id="commentInpt" name ="comment" value="${entity.comment!''}"/>
					</td>
				</tr>
				
			</table>
			
		</@editDiv>
	</body>
</html>